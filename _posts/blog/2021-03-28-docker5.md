---
layout: post
title: "[인프런] 직접 도커이미지를 만들어 보기"
date: 2021-03-28
category: blog
---

## [인프런] 직접 도커이미지를 만들어 보기 


### 1. 도커 이미지 생성하는 순서

- Dockerfile 작성 - 도커 클라이언트 - 도커 서버 - 이미지 생성

### 2. Dockerfile 만들기

- 도커 파일: 도커 이미지를 만들기 위한 설정 파일, 컨테이너가 어떻게 행동해야 하는지에 대한 설정들을 정의

- 베이스 이미지: 도커 이미지는 여러개의 레이어로 되어 있다 ex) OS

- file 작성

1. 베이스 이미지 명시(파일 스냅샷)
2. 추가적 필요한 파일 다운 받기 위한 몇가지 명령어 명시(파일 스냅샷)
3. 컨테이너 시작시 실행 될 명령어를 명시해준다(시작시 실행 될 명령어)



### 3. 도커 파일로 도커 이미지 만들기

```
docker build ./
```

- Build 명령어: 해당 디렉토리 내에서 dockerfile이라는 파일을 찾아서 도커 클라이언트에 전달
 
- Apline 이미지 - 임시컨테이너 생성 - 임시컨테이너 완성 - Alpine 이미지 생성 

- 베이스 이미지를 토대로 다른 종속성이나 새로운 커맨드를 추가 할때는 임시 컨테이너를 만든 후, 그 컨테이너를 토대로 새로운 이미지를 만든다

- 그리고 그 임시 컨테이너는 지워준다



### 4. 내가 만든 이미지 기억하기 쉬운 이름 주기

```
-t + 나의 도커 아이디 + / + 저장소or프로젝트 이름 + : + 버전
```

```
docker run -it 아이디/이름
```

